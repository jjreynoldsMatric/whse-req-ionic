<!--
  Generated template for the EditPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>

    <ion-navbar>
      <ion-title><span style="font-size: 3rem;">Edit Requisition</span></ion-title>
    </ion-navbar>
  
  </ion-header>
  
  
  <ion-content padding>
    <ion-grid>
      <div>
  
        <form [formGroup]="newForm" (ngSubmit)="submit()">
          <ion-row>
            <ion-col class="reqNum">
                Warehouse Requisition: {{this.editReq.Id}}
            </ion-col>


          </ion-row>
            
          <ion-row>
              <ion-col col-4>
                <ion-row>
                  <label for="employee">Employee</label>
                </ion-row>
                <ion-row style="padding-top: 1px">
                  {{this.editReq.Employee}}
                </ion-row>
              </ion-col>
              <ion-col col-4>
                <ion-row>
                  <label for="job">Job or MR #</label>
                </ion-row>
                <ion-row>
                  <input type="text" id="Job" name="Job" formControlName="Job">
                </ion-row>
                <div *ngIf="newForm.controls.Job.dirty && !newForm.controls.Job.valid">
                  Please enter a valid job number
                </div>
              </ion-col>
              <ion-col col-4>
                <ion-row>
                  <label for="department">Department</label>
                </ion-row>
              
                <ion-row >
                  <span>{{this.editReq.Department}}</span>
                 
                </ion-row>
  
              </ion-col>
            </ion-row>
  
            <div formArrayName="RequisitionItems" style="padding-bottom: 3px" >
              
              <div *ngFor="let control of newForm.controls['RequisitionItems'].controls; let i = index" style="border: 1px solid black; border-radius: 10px; margin-top: 10px;">
                <edit-items (remove)='onRemove($event)' [newReqForm]="newForm.controls.RequisitionItems.controls[i]" style="padding-bottom: 10px" [index]='i'></edit-items> 
              </div>
            </div>
          <button ion-button align-right type="button" (click)="addItem()">Add Another Item</button>
          <button ion-button type="submit" class="btn btn-success"[disabled]="!newForm.valid">Submit</button>
        </form>
  
        <h1 style="color: red">{{errorMessage}}</h1>
  <!-- 
        <ion-col>
          <button type="button" ion-button (click)="getFormInfo()">GET FORM</button>
        </ion-col>
        -->
        
      </div>
    </ion-grid>
  </ion-content>
  

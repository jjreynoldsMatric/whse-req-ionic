<!--
  Generated template for the NewRequisitionPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>New Requisition</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <h2>New Requisition</h2>
  <div>
    <form [formGroup]="newReqForm" (ngSubmit)="submit()">
      <fieldset >
        <label for="employee">Employee</label>
        <select id="employee"  name="employee">
          <option *ngFor="let employee of employeeService.employees" [value]="employee.id">
            {{employee.empNum}} - {{employee.fname}} {{employee.lname}}
          </option>
        </select>

        <label for="job">Job or MR #</label>
        <input type="text" id="job" name="job">

        <label for="department">Department</label>
        <input type="text" id="department">
      </fieldset>

      <table>
        <thead>
          <th>Matric Part #</th>
          <th>Quantity</th>
          <th>Lot #</th>
          <th>Reason Code</th>
          <th>Operation</th>
          <th>Action</th>
        </thead>
        <tbody *ngFor="let item of itemsFormArray">
          <td>{{item.matricPN}}</td>
          <td>{{item.quantity}}</td>
          <td>{{item.lotNum}}</td>
          <td>{{item.reasonCode}}</td>
          <td>{{item.operation}}</td>
          <td>
            <button (click)="removeItem(item)">X</button>
          </td>
        </tbody>
        <tfoot>
          <items-array formArrayName="items" [itemsFormArray]="newReqForm.get('items')">
          </items-array>
        </tfoot>

      </table>

      <button type="submit" class="btn btn-success">Submit</button>
    </form>
  </div>

</ion-content>
